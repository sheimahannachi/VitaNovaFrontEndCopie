<!--



    <div class="chat-header">
        <h2 class="title">Community Name {{CommunityName}}</h2>

    </div>

</div>
-->

<div class="tChat">
    <div class="chat-container">
<div class="container">
    <div class="row clearfix">
        <div class="col-lg-12">
            <div class="card chat-app">
                <div id="plist" class="people-list" >
                                                       
                    <ul  class="list-unstyled chat-list mt-2 mb-0" *ngFor="let a of members" >
                        <li class="clearfix" (click)="goToOneToOne(a)" *ngIf="a.idUser !=currentUser.idUser">
                            <!--Generated using ts-->
                            <img src="https://bootdey.com/img/Content/avatar/avatar1.png" alt="avatar">

                            <div class="about">
                                <div class="name">{{a.username }}  </div>
                                                                        
                            </div>
                        </li>
                      
                    </ul>
                </div>
                 <div class="chat">

                    <div #messagesList class="chat-history">
                        <div class="seeMore">
                            <h6 style="color: blue;cursor: pointer;" (click)="pagePlus()">See more ...</h6>
                        </div>
                                    
                        <ul class="m-b-0" *ngFor="let i of messages">




                            
                            <li class="clearfix" *ngIf="i.sender.idUser!=currentUser.idUser">           
                                <div class="message-data right-div text-right">
                                                                    <!-- {{i.sentDate}}-->
                                    <span class="message-data-time ">{{i.sentDate}}</span>
                                    <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="avatar">
                                </div>   
                                                                  
                                <div class="message my-message float-right " *ngIf="i.message!='a video call message'"> {{i.message}} </div>
                                <div class=" float-right " *ngIf="i.message=='a video call message'"> <button type="button" class="btn btn-secondary btn-sm" (click)="goToVideoChat()">Join video Call</button></div>
                           
                            </li>       










                            <li class="clearfix" *ngIf="i.sender.idUser==currentUser.idUser" >
                                <div id="forBut" *ngIf=" updateCom!=i.id">
                                <div class="message-data">          
                                    <span class="message-data-time">{{i.sentDate}}</span>
                                </div>                          
                                <div class="message my-message" *ngIf="i.message!='a video call message'" >{{i.message}}
                                  
                                    <div class="buttons">
                                        
                                        <h6  class="updating" (click)="updateHtml(i.id)">Update</h6>
                                        <h6 class="updating" (click)="deleteHtml(i.id)">Delete</h6>
                                        
                                    </div>    
                                </div>
                                <div class=" float-right " *ngIf="i.message=='a video call message'"> <button class="btn btn-secondary btn-sm" (click)="goToVideoChat()">Join video Call</button></div>


                                <div class="seen" *ngIf="i.seen==true"><h6 class="hSeen">Seen</h6></div>
                            </div>
                            <div class="updateMessage" *ngIf="elToTextArea==true && updateCom==i.id">
                                <div class="textarea-wrapper">
                                    <textarea (keyup.enter)="updateMessage(i,textArea.value)" [ngModel]="i.message" #textArea class="auto-size-textarea"></textarea>

                            </div>
                                <div class="buttons2">
                                        <h5  class="updating" (click)="updateMessage(i,textArea.value)">Update</h5>
                                        <h5 class="updating" (click)="cancelUpdate()">Cancel</h5>
                                        
                                    </div>  
                            </div>
                                                           
                            </li>                               
                           
                        </ul>
                    </div>

                    








                    <div class="chat-message clearfix" >
                        <table style="margin-left: 00px;">
                            
                            <tr>
                                
                        <td>
                            <textarea #MessageInput type="text" class="form-control custom-input" placeholder="Write your message..." [(ngModel)]="message" 
                            style="width: 400px;
                            height: 45px;
                            background-color:#b3d821c5;
                            color: #000000;
                            "
                            (keyup.enter)="sendMessage()" (click)="activeSeen()"> </textarea>
                        </td>
                        <td>
                            
                                <button  class="btn bg-gradient-success" style="
                                margin-top: 12px;" (click)="sendMessage();activeSeen()">Send</button>
                            
                            
                        </td>  
                        <td>
                            <button class="btn bg-gradient-success" style=" margin-top: 12px; margin-right: 10px;" (click)="goToVideoChat()">Call</button>
                        </td>
                        </tr>
                        </table>



                    </div>
               
                </div>
            </div>
        </div>
    </div>
    </div>
</div>
</div>