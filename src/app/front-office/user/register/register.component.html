<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Registration</title>
</head>

    
        <header class="header-area header-sticky">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <nav class="main-nav">
                            <!-- ***** Logo Start ***** -->
                            <a href="index.html" class="logo">Vita<em> NOVA</em></a>
                            <!-- ***** Logo End ***** -->
                            <!-- ***** Menu Start ***** -->
                            <ul class="nav">
                                <li class="scroll-to-section"><a href="#top" class="">Home</a></li>
                                <li class="scroll-to-section"><a href="#features">About</a></li>
                                <li class="scroll-to-section"><a href="#our-classes">Classes</a></li>
                                <li class="scroll-to-section"><a href="#schedule">Schedules</a></li>
                                <li class="scroll-to-section"><a href="#contact-us">Contact</a></li> 
                                <li class="main-button"><a routerLink="/login">Sign in</a></li>
                            </ul>        
                            <a class='menu-trigger'>
                                <span>Menu</span>
                            </a>
                            <!-- ***** Menu End ***** -->
                        </nav>
                    </div>
                </div>
            </div>
        </header>

        <body>
    <div class="container mt-4">
        <div class="card">
            <h1>Registration</h1>
            <form >
                <div class="form-row">
                    <!-- First Column -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>First Name</label>
                            <input type="text" [(ngModel)]="firstName" [ngModelOptions]="{standalone: true}" name="firstName" class="form-control" id="firstname" placeholder="Enter First Name">
                        </div>

                        <div class="form-group">
                            <label>Last Name</label>
                            <input type="text" [(ngModel)]="lastName" [ngModelOptions]="{standalone: true}" name="lastName" class="form-control" id="lastname" placeholder="Enter Last Name">
                        </div>
                        
                        <label>Username</label>
                        <input type="text" [(ngModel)]="username" [ngModelOptions]="{standalone: true}" name="username" class="form-control" id="username" placeholder="Enter username">

                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" [(ngModel)]="email" [ngModelOptions]="{standalone: true}" [disabled]="verified" name="email" class="form-control" id="email" placeholder="Enter Email" >
                            <div *ngIf="verified" class="text-success">Email verified successfully</div>
                            <div *ngIf="EmailExists" class="text-error">Email is connected to another account</div>

                        </div>
                        <a class="btnSecondary" (click)="sendVerificationCode()" [class.disabled]="verified" *ngIf="!verified">
                          <small>  Send code</small>
                          </a>
                                                  <div *ngIf="!verified" class="form-group">
                            <label>Verification Code</label>
                            <input type="text" [(ngModel)]="verificationCode" [ngModelOptions]="{standalone: true}" class="form-control" id="verificationCode" placeholder="Enter Verification Code">
                        </div>
                        <button *ngIf="!verified" type="button" class="btn btn-primary" (click)="verifyEmail()" [disabled]="verified">Verify Email</button>
                    </div>
                
                    <!-- Second Column -->
                    <div class="col-md-6">
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" [(ngModel)]="password" (ngModelChange)="onPasswordChange()" [ngModelOptions]="{standalone: true}" name="password" class="form-control" id="password" placeholder="Enter Password">
                            <small [style.color]="textColor">{{ strengthText }}</small>

                        </div>

                        <div class="form-group">
                            <label>Role</label>
                            <select class="form-control" [(ngModel)]="role" [ngModelOptions]="{standalone: true}" name="role">
                                <option value="" selected>Select a Role</option>
                                <option value="USER">USER</option>
                                <option value="NUTRITIONIST">NUTRITIONIST</option>
                                <option value="COACH">COACH</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label>Picture</label>
                            <input type="file" (change)="onFileChanged($event)" name="picture" class="form-control" id="picture">
                            <img *ngIf="selectedFile" [src]="getSelectedFileUrl()" alt="Selected Image" class="img-fluid mt-3">
                            <small *ngIf="!selectedFile && !selectedFile" class="text-danger">Please choose an image file.</small>
                        </div>

                        <div class="form-group">
                            <label>Gender</label>
                            <div>
                                <label class="form-check-label mr-3">
                                    <input type="radio" [(ngModel)]="gender" [ngModelOptions]="{standalone: true}" value="WOMAN" name="gender" class="form-check-input">
                                    <span> Female</span>
                                </label>
                                <label class="form-check-label">
                                    <input type="radio" [(ngModel)]="gender" [ngModelOptions]="{standalone: true}" value="MAN" name="gender" class="form-check-input">
                                    <span>Male</span>
                                </label>
                            </div>
                        </div>
                        <label>Birthdate</label>
                        <div id="datepicker"></div>
                        <input type="date" name="birthdate" id="birthdate" [(ngModel)]="dateOfBirth" >

                        <div class="form-group">
                            <label>Weight</label>
                            <input type="number" [(ngModel)]="weight" [ngModelOptions]="{standalone: true}" name="weight" class="form-control" id="weight" placeholder="Enter Weight">
                        </div>

                        <div class="form-group">
                            <label>Height</label>
                            <input type="number" [(ngModel)]="height" [ngModelOptions]="{standalone: true}" name="height" class="form-control" id="height" placeholder="Enter Height">
                        </div>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary" (click)="save()" [disabled]="!verified || !validateFields()">Register</button>
            </form>
        </div>
    </div>
</body>
</html>
