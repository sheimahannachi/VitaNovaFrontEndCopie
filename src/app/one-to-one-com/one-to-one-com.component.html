
<div class="tChat">
    <div class="chat-container">
        <div class="container">
            <div class="row clearfix">
                <div class="col-lg-12">
                    <div class="card chat-app">
                        <div id="plist" class="people-list" >
                            
                            
                            
                            <div class="back">
                                <h2 (click)="goToCommunityChat()" style="cursor: pointer;" >Back</h2>
                            </div>

                            <ul  class="list-unstyled chat-list mt-2 mb-0">

                            


                                <li class="clearfix" >
                            <img src="https://bootdey.com/img/Content/avatar/avatar1.png" alt="avatar">
                            <div class="about">
                                
                                        <h2 style="color: #000000; margin-left: 10px;">{{otherUser.username}} </h2>
                                   

                                    
                            </div>
                        </li>
                        </ul>
                                                       
                          
                        </div>



                        <div class="chat">

                            <div #messagesList class="chat-history">
                                <div class="seeMore">
                                    <h6 style="color: blue;cursor: pointer;" (click)="pagePlus()">See more ...</h6>
                                </div>
                                            
                                <ul class="m-b-0" *ngFor="let i of messages">
                                    
                                    <li class="clearfix" *ngIf="i.sender.idUser!=current.idUser">           
                                        <div class="message-data right-div text-right">
                                                                            <!-- {{i.sentDate}}-->
                                            <span class="message-data-time ">{{i.sentDate}}</span>
                                            <img src="https://bootdey.com/img/Content/avatar/avatar7.png" alt="avatar">
                                        </div>                                      
                                        <div class="message my-message float-right " *ngIf="i.message!='An image is Sent'"> {{i.message}} </div>
                                        <div class="message my-message float-right"*ngIf="i.message=='An image is Sent'" >
                                            <img [src]="imageFolder+i.imageSent" [alt]="i.sender.username"  style="height: 100%; width: 100%;" >
                                        </div>
                                   
                                    </li>       
                                    <li class="clearfix" *ngIf="i.sender.idUser==current.idUser" >
                                        <div id="forBut" *ngIf=" updateCom!=i.id">
                                        <div class="message-data">          
                                            <span class="message-data-time">{{i.sentDate}}</span>
                                        </div>                          
                                        <div class="message my-message" *ngIf="i.message!='An image is Sent'" >{{i.message}}
                                          
                                            <div class="buttons">
                                                
                                                <h6  class="updating" (click)="updateHtml(i.id)">Update</h6>
                                                <h6 class="updating" (click)="deleteHtml(i.id)">Delete</h6>
                                                
                                            </div>    
                                        </div>
                                        <div class="message my-message float-right"*ngIf="i.message=='An image is Sent'" >
                                            <img [src]="imageFolder+i.imageSent" [alt]="i.sender.username"  style="height: 100%; width: 100%;" >
                                        </div>
                                        <div class="seen" *ngIf="i.seen==true"><h6 class="hSeen">Seen</h6></div>
                                    </div>
                                    <div class="updateMessage" *ngIf="elToTextArea==true && updateCom==i.id">
                                        <div class="textarea-wrapper">
                                            <textarea (keyup.enter)="updateMessage(i,textArea.value)" [ngModel]="i.message" #textArea class="auto-size-textarea"></textarea>
        
                                    </div>
                                        <div class="buttons2">
                                                <h5  class="updating" (click)="updateMessage(i,textArea.value)">Update</h5>
                                                <h5 class="updating" (click)="cancelUpdate()">Cancel</h5>
                                                
                                            </div>  
                                    </div>
                                                                   
                                    </li>                               
                                   
                                </ul>
                            </div>
        
                            
        
        
        
        
        
        
        
        
                            <div class="chat-message clearfix" >
                                <table >
                                    <tr>
                                        
                                <td>
                                    <input type="text" class="form-control custom-input" placeholder="Write your message..." [(ngModel)]="message" 
                                    style="width: 300px;
                                    height: 40px;
                                    background-color:#b3d821c5;
                                    color: #000000;
                                    "
                                    (keyup.enter)="sendMessage()" (click)="activeSeen()"> 
                                </td>
                                <td>
                                    
                                        <button class="btn bg-gradient-success" style="margin-left: 20px;
                                        margin-top: 12px;" (click)="sendMessage();activeSeen()">Send</button>
                                    
                                    
                                </td>  
                                <td>
                        
                                    <input class="form-control" type="file" id="formFile" accept="Choose File" (change)="sendImage($event)" style="width: 115px; margin-bottom: 15px; margin-top: 12px; margin-right: 5px; background-color: #57af5b; height: 40px; border-radius: 10px;" />
                                   
                               </td>
                                </tr>
                                </table>
        
        
        
                            </div>
                       
                        </div>





                    </div>
                </div>
            </div>
        </div>
    </div>
</div>